<!doctype html>

<title>EVA4_P2_CapstoneProject</title>

<style> 
	h1 {text-align: center;}
    .tab1 {tab-size: 2; } 
</style>

<h1 style="background-color:tomato;">EVA4 Phase-2 Capstone project</h1>

<p style="background-color:powderblue;"  style="color:red;">
	{% with messages = get_flashed_messages() %}
	  {% if messages %}
		<ul class=flashes> <b>
		{% for message in messages %}
		  <li>{{ message }}</li>
		{% endfor %} </b>
		</ul>
	  {% endif %}
	{% endwith %}
</p>

<! # Upload directory form>
<form method="post" enctype="multipart/form-data" action="upload">
    <br><b>Project Name: </b> 
            <input type="text" name="projectname" value = "EVA4P2_Capstoneproject"/><br/>
    <p style="background-color:powderblue;"  style="font-family:courier;"> <b> <i>*** Upload structured folder of Image Dataset --> (Should be in format of {root_directory / sub_directory / Images})</b> </i></p>
    <br>Choose Dataset Directory: 
            <input type="file" name="files[]" id="files" multiple directory="" webkitdirectory="" mozdirectory=""><br/>
    <br><input class="button" type="submit" value="Upload" name="upload" />
    
    <br><br><label> <b> Number of classes in the uploaded dataset : </b> </label>
    {% block body %}
        <label> {{ len_classList }} </label>
    {% endblock %}
    
    <br><br><label> <b> Select Validation Dataset (default is : 20%): </b> </label>
    <input type="range" min="0" max="100" value="20" name="val_ds_per" />
    <!input type="submit" value = "Train_test">
    
</form>

<! # Train step>
<form method = "POST" action = "/train">
    {% if dspth %}
        <br><br> 
        <label> <b> Uploaded Path is : </b> </label>
        <input type="text" name="<b> Uploaded Path is : </b>" value = {{dspth}}>
    {% endif %}

    {% if isUploaded %}
        <p style="background-color:powderblue;"  style="font-family:courier;"> <b> <i>*** To start Trainning clik Train button, Once the trainning compleate results will be populated  </b> </i></p>
    
        <br><button>Train</button>
    {% endif %}

    <br><br><label> <b> Results : </b> </label>
        Outof {{ total}} Test Images : Right Prediction = {{ correct }} and Wrong prediction = {{ wrong  }} 
        <br><br>
        <b> Test Accuracy is : </b> {{ test_acc }}

</form>

<! # Clear directory>
<form method = "post" action = "/clear">
    <br><br><input type = "submit" value = "clear dataset"> 
</form>





